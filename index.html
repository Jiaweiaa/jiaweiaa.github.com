<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="css/style.css" rel="stylesheet" />
<script src="js/domReady.js"></script>
<script>
	// 随机数
	function rnd(n,m){
		return  parseInt(Math.random()*(m-n)+n);
	}
	
	//兼容
	function getStyle(obj,name){
		if(obj.currentStyle){
			return obj.currentStyle[name];
		}else{
			return getComputedStyle(obj,false)[name];
		}
	}
	
	//运动
	function move(obj,json,options){
		/*
			options = {
				'duration':总时间,
				'type':运动方式,
				'complete':回调函数
			}
		*/
	
		/*
			json = {
				'left':200,
				'top':200,
				'width':300,
				'height':300
			}
		*/
		options = options || {};
		options.duration = options.duration || 800;
		options.type = options.type || 'ease-out';
	
		var start = {};
		var dis = {};
		for(var name in json){
			start[name] = parseFloat(getStyle(obj,name));
			dis[name] = json[name] - start[name];
		}
		var count = Math.floor(options.duration/30);
		var n = 0;
		clearInterval(obj.timer);
		obj.timer = setInterval(function(){
			n++;
			for(var name in json){
				switch(options.type){
					case 'linear':
						var a = n/count;
						var cur = start[name]+dis[name]*a;
						break;
					case 'ease-out':
						var a = 1-n/count;
						var cur = start[name]+dis[name]*(1-a*a*a);
						break;
					case 'ease-in':
						var a = n/count;
						var cur = start[name]+dis[name]*(a*a*a);
						break;
				}
	
				if(name == 'opacity'){
					obj.style[name] = cur;
					obj.style.filter = 'alpha(opacity='+cur*100+')';
				}
				else{
					obj.style[name] = cur+'px';
				}
				
			}
	
			if(n == count){
				clearInterval(obj.timer);
				options.complete && options.complete();
			}
	
		},30)
	}
	
	
	domReady(function(){
		var oBody=document.querySelector('.body');
		var oLoading=document.getElementById('Loading');
		var oL_left=document.querySelector('.Loading .load_left');
		var oL_right=document.querySelector('.Loading .load_right');
		var oLoad=document.getElementById('load');
		var oMask=document.getElementById('mask');
		var oLog=document.getElementById('log');
		var oCatalog=document.getElementById('Catalog');
		var oContents=document.getElementById('contents');
		var oCont_li=oContents.getElementsByTagName('li');
		var oCont_span=oContents.getElementsByTagName('span');
		var oTranslate=document.getElementById('translate');
		var oWorks=document.getElementById('for_work');
		var oWorks_c=oWorks.querySelectorAll('div');
		var oWorks_p=oWorks.querySelectorAll('p');
		var oWorks_a=oWorks.querySelectorAll('a');
		var oWorks_show=document.querySelectorAll('.show_w');
		var oCont_a=oContents.getElementsByTagName('a');
		var oMoment_r=document.getElementById('A_moment_relief');
		var oMoment_d=oMoment_r.querySelectorAll('div');
		var oMoment_l=oMoment_r.querySelectorAll('span');
		var oMoment_m=oMoment_r.querySelectorAll('.fM');
		var oAbout_m=document.getElementById('About_me');
		var oMsk=document.querySelectorAll('.Mask');
		var oA_M=document.querySelectorAll('.Ma_m');
		var oA_a=document.querySelectorAll('.bFA');
		var oThe_e=document.getElementById('The_end');
		var oEnd_l=document.querySelector('.M_line');
		
		//事件预加载
		var oLoad_num=0;
		var oLoad_timer=null;
		var oTranslate_arr=['内容1','内容2','内容3','内容4','内容5'];
		oLoad_timer = setInterval(function(){
			for(var i=1;i<6;i++){
				var oI=new Image();
				oI.src= 'https://jiaweiaa.github.io/img/bg'+i+'.jpg';
				oI.onload=function(){
					oLoad_num++;
					var scale_load=	oLoad_num/5;
					oLoad.innerHTML=(oLoad_num*100/5).toFixed(2)+'%';
				}
			}
			if(oLoad_num==100){
				oLoad.style.display='none';
				oMask.style.display='none';
				move(oLog,{
					opacity:1
				},{
					complete:function(){
						//加载页动画
						oL_left.style.transformOrigin='left center';
						oL_left.style.transform='rotateX(180deg)';
						oL_right.style.transformOrigin='center center';		
						oL_right.style.transform='rotateX(-180deg)';
						move(oLoading,{
							'opacity':0
							
					},{
						complete:function(){
							oCatalog.style.display='block';
							oWorks.style.display='block';
							oMoment_r.style.display='block';
							oAbout_m.style.display='block';
							oThe_e.style.display='block';
							move(oContents,{
								'top':90
							},{
								duration:1000,
								complete:function(){
									oContents.style.transition='1s all ease';	
									}
								})
							}
						})
					}
				});
				clearInterval(oLoad_timer);
			}
		},10);
		for(var i=0;i<oCont_li.length;i++){
			oCont_li[i].index=i;
			oCont_li[i].onmouseover=function(){
				oCont_span[this.index].style.width=0;
				oCont_span[this.index].style.display='block';
				move(oCont_span[this.index],{
					width:this.offsetWidth
				},{
					complete:(function(i){
						oTranslate.style.display='block';
						oTranslate.innerHTML=oTranslate_arr[i]+'<span class="left"></span><span class="right"></span><span class="bottom"></span><span class="top"></span>';
						var oTranslate_c1=oTranslate.children[0];
						var oTranslate_c2=oTranslate.children[1];
						var oTranslate_c3=oTranslate.children[2];
						var oTranslate_c4=oTranslate.children[3];			
						move(oTranslate_c1,{'height':232});
						move(oTranslate_c2,{'height':220});
						move(oTranslate_c3,{'width':413});
						move(oTranslate_c4,{'width':407});
						
					})(this.index)
				});
			};
			oCont_li[i].onmouseout=function(){
				oCont_span[this.index].style.display='none';
				oTranslate.style.display='none';
			}
		}
		//标题栏 下横线
		
		
		//事件滚动
		document.onscroll=function(){
			
			// 导航栏动画 标题跟随  模拟锚点
			var oH=document.documentElement.scrollTop||document.body.scrollTop;
			if(oH>0){
				oContents.style.position='fixed';
				oContents.style.background='black';
				oContents.style.opacity=0.3;
				oContents.style.width='100%';
				oContents.style.margin=0;
				oContents.style.left=0;
				oContents.style.top=0;
				oContents.onmouseover=function(){
					move(oContents,{
						'opacity':1
					})
				};
				oContents.onmouseout=function(){
					move(oContents,{
						'opacity':0.3
					})
				};
				
				//导航栏 变动
				for(var i=0;i<oCont_li.length;i++){
				oCont_li[i].style.cssFloat='left';
				oCont_li[i].style.width='20%';
				oCont_li[i].style.height='80px';
				oCont_li[i].style.margin=0;
				oCont_a[i].style.lineHeight='80px';
				oCont_li[i].onmouseover=function(){
					oCont_span[this.index].style.width=0;
					oCont_span[this.index].style.display='block';
					move(oCont_span[this.index],{
						width:this.offsetWidth,
						top:70
						})
					};
				}
			}
			
			//回到顶部  标题栏回到起始状态  下面的
			if(oH<=0){
				oContents.style.position='absolute';
				oContents.style.background='none';
				oContents.style.opacity=1;
				oContents.style.width='300px';
				oContents.style.marginLeft='-250px';
				oContents.style.left='50%';
				oContents.style.top='90px';
				oContents.onmouseout='';
				oContents.animation='2s out infinite linear';
				for(var i=0;i<oCont_li.length;i++){
					oCont_li[i].style.cssFloat='none';
					oCont_li[i].style.width='240px';
					oCont_li[i].index=i;
					oCont_li[i].onmouseover=function(){
					oCont_span[this.index].style.width=0;
					oCont_span[this.index].style.display='block';
					move(oCont_span[this.index],{
						width:this.offsetWidth
					},{
						complete:(function(i){
								oTranslate.style.display='block';
								oTranslate.innerHTML=oTranslate_arr[i]+'<span class="left"></span><span class="right"></span><span class="bottom"></span><span class="top"></span>';
								var oTranslate_c1=oTranslate.children[0];
								var oTranslate_c2=oTranslate.children[1];
								var oTranslate_c3=oTranslate.children[2];
								var oTranslate_c4=oTranslate.children[3];                   
								move(oTranslate_c1,{'height':232});
								move(oTranslate_c2,{'height':220});
								move(oTranslate_c3,{'width':413});
								move(oTranslate_c4,{'width':407});
								})(this.index)
						});
					}
				}		
			}
			
			// 标题跟随 移入那块 当前标题变大
			//全部内容高度  class名根据scrolltop添加
			var oBh=oBody.offsetHeight;
			//1/5的高度
			var fH=oBh/oCont_li.length;
			if(fH>=oH){
				for(var j=1;j<oCont_li.length;j++){
					oCont_li[j].className='';
				}
			}
			if(oH>=fH){
				for(var j=1;j<oCont_li.length;j++){
					oCont_li[j].className='';
				}
				oCont_li[1].className='on';
			}
			if(oH>=(fH*2)){
				for(var j=1;j<oCont_li.length;j++){
					oCont_li[j].className='';
				}
				oCont_li[2].className='on';
			}
			if(oH>=(fH*3)){
				for(var j=1;j<oCont_li.length;j++){
					oCont_li[j].className='';
				}
				oCont_li[3].className='on';
			}
			if(oH>=(fH*4)){
				for(var j=1;j<oCont_li.length;j++){
					oCont_li[j].className='';
				}
				oCont_li[4].className='on';
			}
			
			//work 动画
			if(document.body.scrollTop>=400){
				oWorks_c[0].style.left='20%';
				oWorks_c[2].style.left='20%';
				oWorks_c[1].style.left='50%';
				oWorks_c[1].style.transition='1s all cubic-bezier(0.68, 0.84, 0, 0.22) 0.5s';
				move(oWorks_p[0],{
					height:235
				});
				move(oWorks_p[2],{
					height:220
				});
				setTimeout(function(){
					move(oWorks_p[1],{
						width:350
					})		
				},1000)
				setTimeout(function(){
					move(oWorks_p[4],{
						height:260
					})			
				},1000)
				move(oWorks_p[3],{
					width:350
				})
			}
			
			//game 动画
			if(document.body.scrollTop>=1300){
				oMoment_m[0].style.transform='translateY(0px)';
				oMoment_m[1].style.transform='translateY(0px)';
				oMoment_m[2].style.transform='translateY(0px)';
				oMoment_m[3].style.transform='translateY(0px)';
				move(oMoment_l[1],{
					opacity:1
				},{
					duration:2000
				})
				move(oMoment_l[0],{
					opacity:1
				},{
					duration:2000
				})
			}		
			
			// skil 4个球运动动画
			if(document.body.scrollTop>=2100){
				for(var i=0;i<oMsk.length;i++){
					oMsk[i].style.transform='translate(0,0)';
					oMsk[i].style.transition='1.5s all cubic-bezier(0.96, 1.52, 0, 0.9)';
				}
			}
		};
		
		//展示里的技能 百分比
		oMsk[1].addEventListener('transitionend',function(){
			oA_M[0].style.top='-160px';
			oA_M[1].style.top='-150px';
			oA_M[2].style.top='-160px';
			oA_M[3].style.top='-170px';
			
			oA_M[0].addEventListener('transitionend',function(){
				for(var i=0;i<oA_a.length;i++){
					oA_a[i].style.opacity=1;
					oA_a[i].style.fontSize='14px';
					oA_a[i].style.left='46%';
					oA_a[i].style.top='19%';
				}
			});
		})

		// game 移入效果
		for(var i=0;i<oMoment_d.length;i++){
			oMoment_d[i].index=i;
			oMoment_d[i].onmouseover=function(){
				this.children[0].style.transform='rotateY(180deg)';
			}
			oMoment_d[i].onmouseout=function(){
				this.children[0].style.transform='rotateY(0deg)';
			}
		}
		
		//  锚点动画
		var Move_num=0;
		var Move_num1=0;
		var Move_bOk=true;
		oCont_li[0].onclick=function(){
			document.body.scrollTop=0;
		};
		for(var i=1;i<oCont_li.length;i++){
			oCont_li[i].index=i		
			oCont_li[i].onclick=function(){
				if(!Move_bOk) return;
				Move_bOk=false;
				var _this=this.index;
				timer=setInterval(function(){
					Move_num++;
					document.body.scrollTop+=Move_num;
					var scT=_this*oWorks.offsetHeight;
					if(document.body.scrollTop>=_this*715){
						document.body.scrollTop=_this*715;
						clearInterval(timer);
						Move_bOk=true;
					}
				},40);
				var N_timer=null;
				if(this.index*oWorks.offsetHeight<document.body.scrollTop){
					var N_timer=setInterval(function(){
						Move_num1--;
						document.body.scrollTop+=Move_num1;
						console.log(_this,oWorks.offsetHeight);
						if(document.body.scrollTop<=_this*oWorks.offsetHeight){
							document.body.scrollTop=_this*715;
							Move_bOk=true;
							clearInterval(N_timer);
						}
					},50);
				}
			}
		}
		
		//最后的线	
		var oEndN=0;
		var oE_timer=null;
		oE_timer=setInterval(function(){
		oEndN+=5;
		oEnd_l.style.width=oEndN+'px';
			if(oEnd_l.offsetWidth>=document.body.clientWidth){
				oEndN=0;
				oEnd_l.style.background='rgb('+rnd(0,256)+','+rnd(0,256)+','+rnd(0,256)+')';
			}
		},30)
		
		//work  移入当前其他加上蒙版
		for(var j=0;j<oWorks_a.length;j++){
			oWorks_a[j].onmouseover=function(){
				for(var i=0;i<oWorks_a.length;i++){
					oWorks_a[i].style.filter='blur(6px)';
				}
				this.style.filter='none';
				this.children[0].style.opacity='1';
			}
			oWorks_a[j].onmouseout=function(){
				for(var i=0;i<oWorks_a.length;i++){
					oWorks_a[i].style.filter='none';
				}
				this.children[0].style.opacity='0';
			}
		}
	})
</script>
<title>无标题文档</title>
</head>

<body>
<div class="body">
    <!-- 加载页面 -->
    <div class="Loading" id="Loading" >
    	<!-- 左边图 和右边图  -->
    	<div class="load_left"></div>
        <div class="load_right"></div>
        <!--遮罩-->
        <div id="mask" class="Mask"></div>
        <!--Logo-->
        <div id="log" class="log"></div>
        <!--事件加载-->
        <div id="load" class="Load"></div>
    </div>
    
    <!-- 目录 -->
    <div class="Catalog" id="Catalog">
    	<p id="translate" class="translate">
            <span class="left"></span>
            <span class="right"></span>
            <span class="bottom"></span>
            <span class="top"></span>
        </p>
        <ul class="contents" id="contents">
            <li class="on">
                <a href="script:;">Home</a>
                <span class="active"></span>
            </li>
            <!-- 作品展示 -->
            <li>
                <a href="script:;">Display of works</a>
                <span class="active"></span>
            </li>
            <!-- 轻松一刻  /小游戏 -->
            <li>
                <a href="script:;">Game time</a>
                <span class="active"></span>
            </li>
            <!-- 关于我 -->
            <li>
                <a href="script:;">About me</a>
                <span class="active"></span>
            </li>
            <!-- 结尾-->
            <li>
                <a href="script:;">The end</a>
                <span class="active"></span>
            </li>
        </ul>
    </div>
        
    <!-- 作品展示 -->
    <div class="for_work" id="for_work">
		<p class="work_po"></p>
		<p class="work_pt"></p>
		<p class="work_ps"></p>
		<p class="work_pq"></p>
		<p class="work_pe"></p>
    	<div class="work_one">
        	<a href="LHHXGame/index.html" target="_blank">
            	<span class="show_w">游戏网站：jQ无缝焦点图,模拟假数据.</span>
            </a>
        </div>
		<div class="work_two">
        	<a href="moduleDs/index.html" target="_blank">
            	<span class="show_w">移动端网站：移动端无缝焦点图,自适应大小.</span>
            </a>
        </div>
		<div class="work_three">
        	<a href="MI/index.html" target="_blank">
            	<span class="show_w">店商网站：静态页布局,渐隐焦点图.</span>
            </a>
        </div>
    </div>
    
    <!-- 轻松一刻 游戏 -->
    <div class="A_moment_relief" id="A_moment_relief">
    	<p></p>
        <div class="moment_div">
        	<span class="line_x"></span>
        	<span class="line_y"></span>
			<div class="Moment_one fM">
            	<p></p>
                <h3>贪吃蛇</h3>
                <p class="introduce">介绍和写的要点介绍和写的要点介绍和写的要点介绍和写的要点介绍和写的要点介绍和写的要点介绍和写的要点</p>
            </div>
			<div class="Moment_two fM">
            	<p></p>
                <h3>拼图</h3>
                <p class="introduce">介绍和写的要点</p>
            </div>
			<div class="Moment_three fM">
           		<p></p>
                <h3>活下去</h3>
                <p class="introduce">介绍和写的要点</p>
            </div>
			<div class="Moment_four fM">
            	<p></p>
                <h3>捕鱼达人</h3>
                <p class="introduce">介绍和写的要点</p>
            </div>
		</div>
	</div>
    
    <!-- 关于我 技能介绍-->
    <div class="About_me" id="About_me">
    	<p></p>
        <div>
        	<h3>MY SKILLS</h3>
            <span class="line"></span>
            <span class="show">Go ahead and choose your life</span>
            <div class="skill">
            	<span class="Mask">
                	css/css3
                    <a class="bFA" href="javascripy:;">85%</a>
                	<p class="Ma_m"></p>
                	<div class="bord"></div>
                </span>
                <span class="Mask">
                	Angular.js等插件
                    <a class="bFA" href="javascripy:;">75%</a>
                	<p class="Ma_m"></p>
                	<div class="bord"></div>
                </span>
                <span class="Mask">	
                	html/html5
                    <a class="bFA" href="javascripy:;">85%</a>
                	<p class="Ma_m"></p>
                	<div class="bord"></div>
                </span>
                <span class="Mask">
                	<a class="bFA" href="javascripy:;">90%</a>
                	Javascript/Jquery
                	<p class="Ma_m"></p>
                	<div class="bord"></div>
                </span>
            </div>
        </div>
    </div>
    
    <!-- 联系我 -->
    <div class="The_end" id="The_end">
    	<p></p>
        <div>
      		<h3>Please contact me</h3>
            <span class="line"></span>
        	<span class="show">Maybe I'm not the best, but I will try my best to be the best.</span>
            <div class="contact">
                <p>Tel:<span>132-3677-3577</span></p>
                <p>Qq:<span>721730265</span></p>
                <p>E-mail:<span>jiaweiW@126.com</span></p>
            	<p>WeChat:<span>aha721730265</span></p>
                <p>王加伟</p>
            </div>
            <span class="M_line"></span>
        </div>
    </div>
</div>
</body>
</html>